package gsmutils

import "bytes"

var gsm7replacements = map[rune]rune{
	'“': '"',
	'”': '"',
	'–': '-',
	'＠': '@',
	'￡': '£',
	'＄': '$',
	'￥': '¥',
	'Ç': 'ç',
	'Ǿ': 'Ø',
	'ǿ': 'ø',
	'Ǻ': 'Å',
	'ǻ': 'å',
	'δ': 'Δ',
	'¯': '_',
	'＿': '_',
	'ɸ': 'Φ',
	'φ': 'Φ',
	'ϕ': 'Φ',
	'ᵩ': 'Φ',
	'Ɣ': 'Γ',
	'ɣ': 'Γ',
	'γ': 'Γ',
	'ᴦ': 'Γ',
	'ᵧ': 'Γ',
	'ƛ': 'Λ',
	'λ': 'Λ',
	'ᴧ': 'Λ',
	'ɷ': 'Ω',
	'Ώ': 'Ω',
	'ω': 'Ω',
	'ώ': 'Ω',
	'ὠ': 'Ω',
	'ὡ': 'Ω',
	'ὢ': 'Ω',
	'ὣ': 'Ω',
	'ὤ': 'Ω',
	'ὥ': 'Ω',
	'ὦ': 'Ω',
	'ὧ': 'Ω',
	'Ὠ': 'Ω',
	'Ὡ': 'Ω',
	'Ὢ': 'Ω',
	'Ὣ': 'Ω',
	'Ὤ': 'Ω',
	'Ὥ': 'Ω',
	'Ὦ': 'Ω',
	'Ὧ': 'Ω',
	'ὼ': 'Ω',
	'ώ': 'Ω',
	'ᾠ': 'Ω',
	'ᾡ': 'Ω',
	'ᾢ': 'Ω',
	'ᾣ': 'Ω',
	'ᾤ': 'Ω',
	'ᾥ': 'Ω',
	'ᾦ': 'Ω',
	'ᾧ': 'Ω',
	'ᾨ': 'Ω',
	'ᾩ': 'Ω',
	'ᾪ': 'Ω',
	'ᾫ': 'Ω',
	'ᾬ': 'Ω',
	'ᾭ': 'Ω',
	'ᾮ': 'Ω',
	'ᾯ': 'Ω',
	'ῲ': 'Ω',
	'ῳ': 'Ω',
	'ῴ': 'Ω',
	'ῶ': 'Ω',
	'ῷ': 'Ω',
	'Ὼ': 'Ω',
	'Ώ': 'Ω',
	'ῼ': 'Ω',
	'π': 'Π',
	'ϖ': 'Π',
	'ᴨ': 'Π',
	'ψ': 'Ψ',
	'ᴪ': 'Ψ',
	'ς': 'Σ',
	'σ': 'Σ',
	'θ': 'Θ',
	'ϑ': 'Θ',
	'ϴ': 'Θ',
	'ξ': 'Ξ',
	'Ǣ': 'Æ',
	'Ǽ': 'Æ',
	'ᴁ': 'Æ',
	'ǣ': 'æ',
	'ǽ': 'æ',
	'ẞ': 'ß',
	'！': '!',
	'«': '"',
	'»': '"',
	'＂': '"',
	'＃': '#',
	'％': '%',
	'＆': '&',
	'＇': '\'',
	'`': '\'',
	'´': '\'',
	'｀': '\'',
	'’': '\'',
	'‘': '\'',
	'（': '(',
	'｟': '(',
	'）': ')',
	'｠': ')',
	'＊': '*',
	'＋': '+',
	'，': ',',
	'¸': ',',
	'､': ',',
	'－': '-',
	'．': '.',
	'·': '.',
	'｡': '.',
	'／': '/',
	'０': '0',
	'１': '1',
	'¹': '1',
	'２': '2',
	'²': '2',
	'３': '3',
	'³': '3',
	'４': '4',
	'５': '5',
	'６': '6',
	'７': '7',
	'８': '8',
	'９': '9',
	'：': ':',
	'；': ';',
	'＜': '<',
	'＝': '=',
	'＞': '>',
	'？': '?',
	'＾': '^',
	'｛': '{',
	'｝': '}',
	'＼': '\\',
	'［': '[',
	'～': '~',
	'］': ']',
	'｜': '|',
	'¦': '|',
	'￤': '|',
	'￨': '|',
}

func ReplaceRunesToGSM7(text string) string {
	out := bytes.Buffer{}
	for _, r := range text {
		replacement, present := gsm7replacements[r]
		if present {
			out.WriteRune(replacement)
		} else {
			out.WriteRune(r)
		}
	}
	return out.String()
}
